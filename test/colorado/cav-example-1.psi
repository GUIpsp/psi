// TODO: make it very fast for N=500, as this is what they use
// TODO: compute probability of predicate?

def main(){
    x := 0:ℝ; // TODO: this annotation should not be necessary
    //N := 500;
    //while (i < N){
    //repeat 500{
    repeat 5{
        x = x + uniform(0,1);
    }
    return x; // expected: (((-1/2+1/2·x)·[-2+x≤0]·[-x+2≠0]+1/2·[-x+2≤0])·x+(-1/4+-1/4·x²+1/2·x)·[-2+x≤0]·[-x+2≠0]+-1/4·[-x+2≤0]+-1/4·[-x+3≠0]·[-x+3≤0]·x²+9/4·[-x+3≠0]·[-x+3≤0])·[-4+x≤0]·[-x+1≤0]+((-1+-3·x²+3·x+x³)·[-2+x≤0]·[-x+2≠0]+[-x+2≤0])·(-1/2·x+1/6)·[-3+x≤0]·[-x+1≤0]+((-1+1/2·x)·[-3+x≤0]·[-x+3≠0]+1/2·[-x+3≤0])·[-4+x≤0]·[-x+2≤0]·x³+((-2+x)·[-3+x≤0]·[-x+3≠0]+[-x+3≤0])·(-1/2·x³+-2·x+2·x²)·[-4+x≤0]·[-x+2≤0]+((-27+-9·x²+27·x+x³)·[-4+x≤0]·[-x+4≠0]+[-x+4≤0])·(-1/2·x+1/2)·[-5+x≤0]·[-x+3≤0]+((-4·x+4+x²)·[-3+x≤0]·[-x+3≠0]+[-x+3≤0])·(-2·x+1+3/4·x²)·[-4+x≤0]·[-x+2≤0]+-1/12·[-5+x≤0]·[-x+4≠0]·[-x+4≤0]·x⁴+-1/24·[-2+x≤0]·[-x≤0]·x⁴+-1/2·[-3+x≤0]·[-x+2≤0]·[-x+3≠0]·x⁴+-1/2·[-4+x≤0]·[-x+2≤0]·x²+-1/3·[-2+x≤0]·[-x+1≤0]·[-x+2≠0]·x+-1/3·[-4+x≤0]·[-x+2≤0]+-1/4·[-2+x≤0]·[-x+1≤0]·x²+-1/6·[-5+x≤0]·[-x+4≤0]·x³+-1/8·[-4+x≤0]·[-x+2≤0]·[-x+3≠0]·x⁴+-13/3·[-4+x≤0]·[-x+3≤0]·[-x+4≠0]·x³+-19/4·[-4+x≤0]·[-x+3≠0]·[-x+3≤0]·x²+-2/3·[-5+x≤0]·[-x+4≠0]·[-x+4≤0]·x³+-29/3·[-5+x≤0]·[-x+4≤0]·x+-3/4·[-2+x≤0]·[-x+1≤0]·[-x+2≠0]·x²+-32/3·[-5+x≤0]·[-x+4≠0]·[-x+4≤0]·x+-341/24·[-4+x≤0]·[-x+3≤0]+-35/6·[-3+x≤0]·[-x+2≤0]·x+-4/3·[-3+x≤0]·[-x+2≤0]·[-x+3≠0]+-4/3·[-3+x≤0]·[-x+2≤0]·x³+-41/8·[-4+x≤0]·[-x+3≠0]·[-x+3≤0]+-49/3·[-4+x≤0]·[-x+3≤0]·[-x+4≠0]·x+-5/4·[-3+x≤0]·[-x+2≤0]·[-x+3≠0]·x²+-7·[-4+x≤0]·[-x+3≤0]·x²+-[-2+x≤0]·[-x+1≤0]·[-x+2≠0]·x³+1/12·[-1+x≤0]·[-x+1≠0]·[-x≤0]·x⁴+1/2·[-4+x≤0]·[-x+2≤0]·x+1/2·[-4+x≤0]·[-x+3≤0]·x³+1/3·[-4+x≤0]·[-x+3≤0]·[-x+4≠0]·x⁴+1/4·[-2+x≤0]·[-x+1≤0]·[-x+2≠0]·x⁴+1/6·[-2+x≤0]·[-x+1≤0]·x+1/6·[-2+x≤0]·[-x+1≤0]·x³+1/8·[-3+x≤0]·[-x+1≤0]·x⁴+1/8·[-5+x≤0]·[-x+3≤0]·[-x+4≠0]·x⁴+101/24·[-3+x≤0]·[-x+2≤0]+11/6·[-3+x≤0]·[-x+2≤0]·[-x+3≠0]·x³+119/8·[-5+x≤0]·[-x+4≤0]+14·[-4+x≤0]·[-x+3≤0]·[-x+4≠0]·x²+22/3·[-4+x≤0]·[-x+3≠0]·[-x+3≤0]·x+23/8·[-4+x≤0]·[-x+3≤0]·[-x+4≠0]+3/2·[-3+x≤0]·[-x+1≤0]·x²+32/3·[-5+x≤0]·[-x+4≠0]·[-x+4≤0]+35/2·[-4+x≤0]·[-x+3≤0]·x+3·[-3+x≤0]·[-x+2≤0]·x²+4/3·[-4+x≤0]·[-x+3≠0]·[-x+3≤0]·x³+4·[-5+x≤0]·[-x+4≠0]·[-x+4≤0]·x²+5/24·[-2+x≤0]·[-x+1≤0]·[-x+2≠0]+5/6·[-3+x≤0]·[-x+2≤0]·[-x+3≠0]·x+9/4·[-5+x≤0]·[-x+4≤0]·x²
}
