
def main(){
	x := flip(1/2);
	k := Marginal(x);
	return (x,sample(k),sample(k),expectation(k)); // expected: ((1/8·δ(0)[r₂]·δ(1/2)[r₃]+1/8·δ(1)[r₂]·δ(1/2)[r₃])·δ(0)[r₁]+(1/8·δ(0)[r₂]·δ(1/2)[r₃]+1/8·δ(1)[r₂]·δ(1/2)[r₃])·δ(1)[r₁])·δ(0)[x]+((1/8·δ(0)[r₂]·δ(1/2)[r₃]+1/8·δ(1)[r₂]·δ(1/2)[r₃])·δ(0)[r₁]+(1/8·δ(0)[r₂]·δ(1/2)[r₃]+1/8·δ(1)[r₂]·δ(1/2)[r₃])·δ(1)[r₁])·δ(1)[x]
	// TODO: keep in factored form
}
